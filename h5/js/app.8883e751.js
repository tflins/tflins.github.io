(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],f=0,d=[];f<o.length;f++)i=o[f],a[i]&&d.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"18c7":function(t,e,s){"use strict";var n=s("19b9"),a=s.n(n);a.a},"19b9":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i=(s("5c0b"),s("2877")),o={},c=Object(i["a"])(o,a,r,!1,null,null,null),l=c.exports,u=s("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"data-list"},[s("Alert",{staticClass:"alert",attrs:{type:"error"}},[t._v("\n      提示:\n      "),s("span",{attrs:{slot:"desc"},slot:"desc"},[t._v("请用移动端模式查看.")])]),s("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},t._l(t.dataList,function(e){return s("div",{key:t.handTid(e.Tid)},[e.Tid?s("Card",{staticClass:"item"},[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("作者: "+t._s(e.Author))]),s("a",{staticClass:"subject",attrs:{href:e.link,target:"_blank"}},[e.cover?s("div",{staticClass:"cover"},[s("img",{staticClass:"img",attrs:{src:e.cover,alt:e.Subject}})]):t._e(),s("h2",{domProps:{innerHTML:t._s(e.Subject)}})]),s("p",{staticClass:"info"},[s("span",{staticClass:"time"},[t._v("时间:"+t._s(t._formatDate(e.Dateline)))]),s("span",{staticClass:"view"},[t._v("阅读:"+t._s(e.Views))]),s("span",{staticClass:"replies"},[t._v("回复:"+t._s(e.Replies))]),s("span",{staticClass:"score"},[t._v("评分:"+t._s(t._f("parseNum2")(e.score)))])])]):t._e(),e.newsId?s("Card",{staticClass:"item"},[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("作者: "+t._s(e.author))]),s("a",{staticClass:"subject"},[e.photo?s("div",{staticClass:"cover"},[s("img",{staticClass:"img",attrs:{src:e.photo}})]):t._e(),s("div",[s("h2",{domProps:{innerHTML:t._s(e.title)}}),s("p",[t._v(t._s(e.intro))])])]),s("p",{staticClass:"info"},[s("span",{staticClass:"time"},[t._v("时间:"+t._s(e.formatTime))]),s("span",{staticClass:"view"},[t._v("阅读:"+t._s(e.formattedViewNum))]),s("span",{staticClass:"replies"},[t._v("回复:"+t._s(e.formattedCommentNum))])])]):t._e()],1)}),0)],1),s("BackTop")],1)},d=[],h=(s("6762"),s("bc3a")),p=s.n(h);function m(t){var e="https://pcapitest.feng.com/v1/news/list",s=Object.assign({},{pageCount:t,cache:"no"});return p.a.get(e,{params:s}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){throw t})}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yes",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,n="https://pcapitest.feng.com/v1/flow/excellent",a=Object.assign({},{split:t,sort:e,pageCount:s});return p.a.get(n,{params:a}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){throw t})}var g=s("8d6b"),w=(s("3b2b"),s("a481"),s("2fdb"),function(t){var e=new Date;e.setDate(e.getDate()+t);var s=e.getMonth()+1>=10?e.getMonth()+1:"0".concat(e.getMonth()+1),n=e.getDate()>=10?e.getDate():"0".concat(e.getDate());return"".concat(s,"-").concat(n)}),b=function(t){return!t.includes("昨天")&&!t.includes("-")},L=function(t){return t.includes("昨天")},_=function(t){return t.includes(w(-2))};function y(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in s){var a=s[n]+"";new RegExp("(".concat(n,")")).test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a:N(a)))}return e}function N(t){return("00"+t).substr(t.length)}var C=function(t){return t.filter(function(t){return b(t.formatTime)})},M=function(t){return t.filter(function(t){return L(t.formatTime)||_(t.formatTime)})},T=function(t){return t.filter(function(t){return!b(t.formatTime)&&!L(t.formatTime)&&!L(t.formatTime)})},D=s("5118"),x={data:function(){return{flowList:[],newsList:[],theDayNewsList:[],thedayBeforeYesterdayNewsList:[],otherNews:[],renderList:[],mescroll:null,mescrollDown:{callback:this.downCallback,auto:!1},mescrollUp:{callback:this.upCallback,page:{num:0,size:10},htmlNodata:'<p class="upwarp-nodata">-- END --</p>',noMoreSize:5,toTop:{src:"./static/mescroll/mescroll-totop.png",offset:1e3},empty:{warpId:"xxid",icon:"./static/mescroll/mescroll-empty.png",tip:"暂无相关数据~"},auto:!1},dataList:[]}},beforeRouteEnter:function(t,e,s){s(function(t){t.$refs.mescroll&&t.$refs.mescroll.beforeRouteEnter()})},beforeRouteLeave:function(t,e,s){this.$refs.mescroll&&this.$refs.mescroll.beforeRouteLeave(),s()},methods:{mescrollInit:function(t){this.mescroll=t},downCallback:function(t,e){Object(D["setTimeout"])(function(){location.reload()},1500)},upCallback:function(t,e){var s=this;Object(D["setTimeout"])(function(){for(var t=[],n=0,a=10;n<a;n++)t.push(s.renderList.shift());s.dataList=s.dataList.concat(t),s.$nextTick(function(){e.endSuccess(t.length)})},1500)},handTid:function(t){return t+Math.random()},_formatDate:function(t){var e=new Date(1e3*t);return y(e,"yyyy-MM-dd hh:mm")},_getNewList:function(t){var e=this;m(t).then(function(t){0===t.status.code&&(e.newsList=t.data.dataList.newsList,e._getDataList())})},_getDataList:function(){var t=this;v().then(function(e){if(0===e.status.code){t.flowList=e.data.dataList,t.initNews(),t.handMixList();for(var s=0,n=10;s<n;s++)t.dataList.push(t.renderList.shift())}})},initNews:function(){this.theDayNewsList=C(this.newsList),this.thedayBeforeYesterdayNewsList=M(this.newsList),this.otherNews=T(this.newsList)},handMixList:function(){for(var t=[1,3,6,8,12,14],e=1,s=this.flowList.length+this.newsList.length+1;e<s;e++){if(!this.flowList.length)return;if(t.includes(e)){var n=this.getItem();this.renderList.push(n)}else if(e>14&&(e-14)%5===0){var a=this.getItem();this.renderList.push(a)}else this.renderList.push(this.flowList.shift())}},getItem:function(){if(this.theDayNewsList.length)return this.theDayNewsList.shift();if(this.thedayBeforeYesterdayNewsList.length){for(var t=this.thedayBeforeYesterdayNewsList[Math.floor(Math.random()*this.thedayBeforeYesterdayNewsList.length)],e=0,s=this.thedayBeforeYesterdayNewsList.length;e<s;e++)if(t===this.thedayBeforeYesterdayNewsList[e]){this.thedayBeforeYesterdayNewsList.splice(e,1);break}return t}return this.otherNews.shift()}},filters:{parseNum2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.toFixed(2)}},components:{MescrollVue:g["a"]},created:function(){this._getNewList(300)}},j=x,O=(s("18c7"),Object(i["a"])(j,f,d,!1,null,"51d0fd5b",null)),S=O.exports;n["a"].use(u["a"]);var k=new u["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:S}]}),$=s("2f62");n["a"].use($["a"]);var B=new $["a"].Store({state:{discardNewsList:JSON.parse(localStorage.getItem("discardNewsList"))},mutations:{setDiscardNewsList:function(t,e){t.discardNewsList=e,localStorage.setItem("discardNewsList",JSON.stringify(e))}},getters:{discardNewsList:function(t){return t.discardNewsList}}}),I=s("c57e"),R=s("2d66"),E=s("71a9"),P=s("bf7a"),Y=s("9e6d"),J=s("e544"),A=s("311a"),H=s("093f"),V=s("6ead"),z=s("bbbe"),F=s("0347"),U=s("01f8");s("dcad");n["a"].component("Button",U["a"]),n["a"].component("Card",F["a"]),n["a"].component("Row",z["a"]),n["a"].component("Col",V["a"]),n["a"].component("Option",H["a"]),n["a"].component("Select",A["a"]),n["a"].component("BackTop",J["a"]),n["a"].component("Menu",Y["a"]),n["a"].component("MenuItem",P["a"]),n["a"].component("Submenu",E["a"]),n["a"].component("Input",R["a"]),n["a"].component("Alert",I["a"]),n["a"].config.productionTip=!1,new n["a"]({router:k,store:B,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var n=s("5e27"),a=s.n(n);a.a},"5e27":function(t,e,s){}});
//# sourceMappingURL=app.8883e751.js.map